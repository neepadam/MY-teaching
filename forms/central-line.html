<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Central Line Checklist</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 p-6">

<div class="max-w-4xl mx-auto bg-white shadow p-6 rounded">
  <h1 class="text-3xl font-bold mb-6">Central Line Checklist</h1>

  <!-- Free text fields -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
    <div>
      <label class="font-medium">Procedure Date:</label>
      <input type="text" id="proc_date" class="w-full border p-2 rounded">
    </div>
    <div>
      <label class="font-medium">Time:</label>
      <input type="text" id="proc_time" class="w-full border p-2 rounded">
    </div>
    <div>
      <label class="font-medium">Operator:</label>
      <input type="text" id="operator" class="w-full border p-2 rounded">
    </div>
    <div>
      <label class="font-medium">Assistant:</label>
      <input type="text" id="assistant" class="w-full border p-2 rounded">
    </div>
    <div>
      <label class="font-medium">Supervisor:</label>
      <input type="text" id="supervisor" class="w-full border p-2 rounded">
    </div>
  </div>

  <!-- Checklist questions -->
  <div class="space-y-4">

    <!-- Helper function below means every "name" must be unique -->
    <!-- BEFORE PROCEDURE -->
    <h2 class="text-xl font-bold mt-6">Before Procedure</h2>

    <!-- Q1 -->
    <div>
      <div class="font-medium">Patient identity checked?</div>
      <div class="flex gap-4 mt-1">
        <label><input type="checkbox" name="identity" value="Yes" onchange="onlyOne(this)"> Yes</label>
        <label><input type="checkbox" name="identity" value="No" onchange="onlyOne(this)"> No</label>
        <label><input type="checkbox" name="identity" value="N/A" onchange="onlyOne(this)"> N/A</label>
      </div>
    </div>

    <!-- Q2 -->
    <div>
      <div class="font-medium">Consent completed?</div>
      <div class="flex gap-4 mt-1">
        <label><input type="checkbox" name="consent" value="Yes" onchange="onlyOne(this)"> Yes</label>
        <label><input type="checkbox" name="consent" value="No" onchange="onlyOne(this)"> No</label>
        <label><input type="checkbox" name="consent" value="N/A" onchange="onlyOne(this)"> N/A</label>
      </div>
    </div>

    <!-- Q3 -->
    <div>
      <div class="font-medium">Equipment available?</div>
      <div class="flex gap-4 mt-1">
        <label><input type="checkbox" name="equipment" value="Yes" onchange="onlyOne(this)"> Yes</label>
        <label><input type="checkbox" name="equipment" value="No" onchange="onlyOne(this)"> No</label>
        <label><input type="checkbox" name="equipment" value="N/A" onchange="onlyOne(this)"> N/A</label>
      </div>
    </div>

    <!-- Q4 -->
    <div>
      <div class="font-medium">Correct line type and size?</div>
      <div class="flex gap-4 mt-1">
        <label><input type="checkbox" name="linetype" value="Yes" onchange="onlyOne(this)"> Yes</label>
        <label><input type="checkbox" name="linetype" value="No" onchange="onlyOne(this)"> No</label>
        <label><input type="checkbox" name="linetype" value="N/A" onchange="onlyOne(this)"> N/A</label>
      </div>
    </div>

    <!-- Q5 -->
    <div>
      <div class="font-medium">Coagulopathy?</div>
      <div class="flex gap-4 mt-1">
        <label><input type="checkbox" name="coag" value="Yes" onchange="onlyOne(this)"> Yes</label>
        <label><input type="checkbox" name="coag" value="No" onchange="onlyOne(this)"> No</label>
        <label><input type="checkbox" name="coag" value="N/A" onchange="onlyOne(this)"> N/A</label>
      </div>
    </div>

    <!-- Q6 -->
    <div>
      <div class="font-medium">Drug allergies checked?</div>
      <div class="flex gap-4 mt-1">
        <label><input type="checkbox" name="allergies" value="Yes" onchange="onlyOne(this)"> Yes</label>
        <label><input type="checkbox" name="allergies" value="No" onchange="onlyOne(this)"> No</label>
        <label><input type="checkbox" name="allergies" value="N/A" onchange="onlyOne(this)"> N/A</label>
      </div>
    </div>

    <!-- TIME OUT -->
    <h2 class="text-xl font-bold mt-6">Time Out</h2>

    <div>
      <div class="font-medium">Team roles allocated?</div>
      <div class="flex gap-4 mt-1">
        <label><input type="checkbox" name="teamroles" value="Yes" onchange="onlyOne(this)"> Yes</label>
        <label><input type="checkbox" name="teamroles" value="No" onchange="onlyOne(this)"> No</label>
        <label><input type="checkbox" name="teamroles" value="N/A" onchange="onlyOne(this)"> N/A</label>
      </div>
    </div>

    <div>
      <div class="font-medium">Patient position optimal?</div>
      <div class="flex gap-4 mt-1">
        <label><input type="checkbox" name="position" value="Yes" onchange="onlyOne(this)"> Yes</label>
        <label><input type="checkbox" name="position" value="No" onchange="onlyOne(this)"> No</label>
        <label><input type="checkbox" name="position" value="N/A" onchange="onlyOne(this)"> N/A</label>
      </div>
    </div>

    <div>
      <div class="font-medium">Ultrasound available?</div>
      <div class="flex gap-4 mt-1">
        <label><input type="checkbox" name="ultrasound" value="Yes" onchange="onlyOne(this)"> Yes</label>
        <label><input type="checkbox" name="ultrasound" value="No" onchange="onlyOne(this)"> No</label>
        <label><input type="checkbox" name="ultrasound" value="N/A" onchange="onlyOne(this)"> N/A</label>
      </div>
    </div>

    <!-- SIGN OUT -->
    <h2 class="text-xl font-bold mt-6">Sign Out</h2>

    <div>
      <div class="font-medium">Aspirated all lumens?</div>
      <div class="flex gap-4 mt-1">
        <label><input type="checkbox" name="aspirate" value="Yes" onchange="onlyOne(this)"> Yes</label>
        <label><input type="checkbox" name="aspirate" value="No" onchange="onlyOne(this)"> No</label>
        <label><input type="checkbox" name="aspirate" value="N/A" onchange="onlyOne(this)"> N/A</label>
      </div>
    </div>

    <div>
      <div class="font-medium">Dressing applied?</div>
      <div class="flex gap-4 mt-1">
        <label><input type="checkbox" name="dressing" value="Yes" onchange="onlyOne(this)"> Yes</label>
        <label><input type="checkbox" name="dressing" value="No" onchange="onlyOne(this)"> No</label>
        <label><input type="checkbox" name="dressing" value="N/A" onchange="onlyOne(this)"> N/A</label>
      </div>
    </div>

  </div>

  <!-- Button -->
  <button onclick="generateNote()" class="mt-6 bg-blue-600 text-white px-4 py-2 rounded">
    Generate Free Text
  </button>

  <textarea id="output" class="w-full h-64 border p-2 mt-4"></textarea>
</div>

<script>
function onlyOne(checkbox) {
  const group = document.getElementsByName(checkbox.name);
  group.forEach(box => {
    if (box !== checkbox) box.checked = false;
  });
}

function getValue(name) {
  const boxes = document.getElementsByName(name);
  for (let b of boxes) if (b.checked) return b.value;
  return "Not selected";
}

function generateNote() {
  let out = "";

  out += `Procedure Date: ${document.getElementById('proc_date').value}\n`;
  out += `Time: ${document.getElementById('proc_time').value}\n`;
  out += `Operator: ${document.getElementById('operator').value}\n`;
  out += `Assistant: ${document.getElementById('assistant').value}\n`;
  out += `Supervisor: ${document.getElementById('supervisor').value}\n\n`;

  out += "=== BEFORE THE PROCEDURE ===\n";
  out += `Patient identity checked: ${getValue("identity")}\n`;
  out += `Consent completed: ${getValue("consent")}\n`;
  out += `Equipment available: ${getValue("equipment")}\n`;
  out += `Correct line type/size: ${getValue("linetype")}\n`;
  out += `Coagulopathy: ${getValue("coag")}\n`;
  out += `Allergies checked: ${getValue("allergies")}\n\n`;

  out += "=== TIME OUT ===\n";
  out += `Team roles allocated: ${getValue("teamroles")}\n`;
  out += `Patient position optimal: ${getValue("position")}\n`;
  out += `Ultrasound available: ${getValue("ultrasound")}\n\n`;

  out += "=== SIGN OUT ===\n";
  out += `Aspirated lumens: ${getValue("aspirate")}\n`;
  out += `Dressing applied: ${getValue("dressing")}\n`;

  document.getElementById("output").value = out;
}
</script>

</body>
</html>
